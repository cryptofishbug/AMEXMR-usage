@import "tailwindcss";

:root {
  --bg-deep-navy: #0a0e17;
  --text-primary: #e2e8f0;
  --border-subtle: rgba(148, 163, 184, 0.12);
}

body {
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  background-color: var(--bg-deep-navy);
  color: var(--text-primary);
}

/* 숫자 카운터 전환 애니메이션 */
@keyframes value-pop {
  from {
    opacity: 0.6;
    transform: translateY(-2px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-value-change {
  animation: value-pop 0.35s ease-out;
}

/* iOS Safari 스크롤 락 - position:fixed 대신 overflow만 사용하여 레이아웃 점프 방지 */
html.scroll-locked,
html.scroll-locked body {
  overflow: hidden;
  /* iOS Safari에서 터치 스크롤 방지 */
  touch-action: none;
  -webkit-overflow-scrolling: auto;
}

/* iOS Safari에서 position:fixed 제거 - 키보드 올라올 때 점프 방지 */
html.scroll-locked body {
  position: relative;
  height: 100%;
}

/* 바텀시트 컨테이너 - dvh 우선, vh fallback */
.bottom-sheet-container {
  /* fallback for browsers without dvh support */
  max-height: 80vh;
  max-height: 80dvh;
  /* safe-area 하단 여백 */
  padding-bottom: env(safe-area-inset-bottom, 0px);
  /* 내부 스크롤 구조를 위한 overflow 설정 */
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* 바텀시트 고정 헤더 - 핸들, 타이틀, 검색창 */
.bottom-sheet-header {
  flex-shrink: 0;
  /* 배경색으로 아래 리스트가 비치지 않도록 */
  background-color: rgb(15 23 42); /* slate-900 */
  /* 스크롤 시에도 항상 위에 표시 */
  z-index: 10;
  /* 하단 그림자로 시각적 분리감 */
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
}

/* 바텀시트 내부 스크롤 영역 */
.bottom-sheet-scroll {
  flex: 1;
  min-height: 0; /* flexbox에서 overflow 작동을 위해 필요 */
  overflow-y: auto;
  /* iOS Safari rubber-band 스크롤 억제 */
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}

/* 바텀시트 오버레이 - 키보드 상태에서도 전체 화면 커버 */
.bottom-sheet-overlay {
  position: fixed;
  inset: 0;
  /* dvh로 iOS Safari visual viewport 대응 */
  min-height: 100vh;
  min-height: 100dvh;
}

/* 모달 열렸을 때 배경(#app) 터치/포커스 완전 차단 */
html.modal-open #app {
  pointer-events: none;
  user-select: none;
  -webkit-user-select: none;
}

/* iOS Safari 줌 방지: input font-size 16px 이상 강제 */
.no-zoom input,
.no-zoom textarea,
.no-zoom select {
  font-size: 16px !important;
}
